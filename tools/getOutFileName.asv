function out_file_name = getOutFileName(Path,fname,ext,overwrite)

if ~exist(Path,'dir')
    warning('Path does not exist. Creating new directory.');
    mkdir(Path);
end

if ext(1) ~= '.'
   ext = ['.' ext]; 
end

if ~overwrite
    fID = 1;
    fname = [fname sprintf('_%02d',fID)];

    while(exist([Path fname ext],'file'))
        fID = fID + 1;
        fname = [fname sprintf('_%02d',fID)];
    end
end

out_file_name =[Path fname ext];

end